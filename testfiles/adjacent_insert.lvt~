\input regression-test.tex
\documentclass{article}
\usepackage{erw-l3}
\ExplSyntaxOn

\ExplSyntaxOff
\begin{document}
\ExplSyntaxOn
\START

\bool_set:Nn\l_tmpa_bool
{\exp_args:Ne
   \str_if_eq_p:nn
   {\erw_adjacent_insert:nn{}{_}}{}}

\TEST{\exp_args:Ne
   \str_if_eq_p:nn
   {\erw_adjacent_insert:nn{}{_}{}}}
{%
\bool_if:NTF
\l_tmpa_bool
\TRUE\FALSE}

\bool_set:Nn\l_tmpa_bool
{\exp_args:Ne
   \str_if_eq_p:nn
   {\erw_adjacent_insert:nn{{foo}}{_}}{foo}}

\TEST{\exp_args:Ne
   \str_if_eq_p:nn
   {\erw_adjacent_insert:nn{{foo}}{_}}{foo}}
{%
\bool_if:NTF
\l_tmpa_bool
\TRUE\FALSE}

\bool_set:Nn\l_tmpa_bool
{\exp_args:Ne
   \str_if_eq_p:nn
   {\erw_adjacent_insert:nn{{foo}{bar}}{_}}{foo_bar}}

\TEST{\exp_args:Ne
   \str_if_eq_p:nn
   {\erw_adjacent_insert:nn{{foo}{bar}}{_}}{foo_bar}}
{%
\bool_if:NTF
\l_tmpa_bool
\TRUE\FALSE}

\bool_set:Nn\l_tmpa_bool
{\exp_args:Ne
   \str_if_eq_p:nn
   {\erw_adjacent_insert:nn{{foo}{bar}{qux}}{_}}{foo_bar_qux}}

\TEST{\exp_args:Ne
   \str_if_eq_p:nn
   {\erw_adjacent_insert:nn{{foo}{bar}{qux}}{_}}{foo_bar_qux}}
{%
\bool_if:NTF
\l_tmpa_bool
\TRUE\FALSE}

%\END
\ExplSyntaxOff
\end{document}